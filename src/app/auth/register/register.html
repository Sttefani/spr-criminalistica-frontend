<div class="register-container">
  <mat-card class="register-card">
    <mat-card-header>
      <mat-card-title>
        <div class="register-header">
          <i class="material-icons logo-icon">person_add</i>
          <h1>Criar Nova Conta</h1>
        </div>
      </mat-card-title>
      <mat-card-subtitle>Preencha os dados para solicitar seu acesso</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <!-- ADICIONADO: autocomplete="off" no form -->
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" autocomplete="off">

        <!-- Campo Nome Completo -->
        <mat-form-field class="full-width-field" appearance="outline">
          <mat-label>Nome Completo</mat-label>
          <input matInput
                 formControlName="name"
                 placeholder="Seu nome completo"
                 autocomplete="off"
                 required>
          <mat-error *ngIf="registerForm.get('name')?.hasError('required')">
            O nome é obrigatório.
          </mat-error>
        </mat-form-field>

        <!-- Campo E-mail -->
        <mat-form-field class="full-width-field" appearance="outline">
          <mat-label>E-mail</mat-label>
          <input matInput
                 formControlName="email"
                 type="email"
                 placeholder="seu.email@dominio.com"
                 autocomplete="new-email"
                 data-lpignore="true"
                 required>
          <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
            O e-mail é obrigatório.
          </mat-error>
          <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
            Formato de e-mail inválido.
          </mat-error>
        </mat-form-field>

        <!-- Campo CPF -->
        <mat-form-field class="full-width-field" appearance="outline">
          <mat-label>CPF</mat-label>
          <input matInput
                 formControlName="cpf"
                 placeholder="000.000.000-00"
                 autocomplete="off"
                 required>
           <mat-error *ngIf="registerForm.get('cpf')?.hasError('required')">
            O CPF é obrigatório.
          </mat-error>
        </mat-form-field>

        <!-- Campo Telefone -->
        <mat-form-field class="full-width-field" appearance="outline">
          <mat-label>Telefone</mat-label>
          <input matInput
                 formControlName="phone"
                 placeholder="(00) 00000-0000"
                 autocomplete="off">
        </mat-form-field>

        <!-- Campo Instituição -->
        <mat-form-field class="full-width-field" appearance="outline">
          <mat-label>Instituição</mat-label>
          <input matInput
                 formControlName="institution"
                 placeholder="Ex: Tribunal de Justiça"
                 autocomplete="off">
        </mat-form-field>

        <!-- Campo Senha -->
        <mat-form-field class="full-width-field" appearance="outline">
          <mat-label>Senha</mat-label>
          <input matInput
                 formControlName="password"
                 type="password"
                 autocomplete="new-password"
                 data-lpignore="true"
                 required>
           <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
            A senha é obrigatória.
          </mat-error>
        </mat-form-field>

        <!-- Campo Confirmação de Senha -->
        <mat-form-field class="full-width-field" appearance="outline">
          <mat-label>Confirme a Senha</mat-label>
          <input matInput
                 formControlName="confirmPassword"
                 type="password"
                 autocomplete="new-password"
                 data-lpignore="true"
                 required>
          <mat-error *ngIf="registerForm.get('confirmPassword')?.hasError('required')">
            A confirmação da senha é obrigatória.
          </mat-error>
          <mat-error *ngIf="registerForm.hasError('mustMatch')">
            As senhas não coincidem.
          </mat-error>
        </mat-form-field>

        <button mat-raised-button color="primary" class="register-button" type="submit" [disabled]="registerForm.invalid">
          Solicitar Cadastro
        </button>
      </form>
    </mat-card-content>
    <mat-card-footer>
      <div class="login-link">
        <span>Já possui uma conta?</span>
        <a routerLink="/login">Faça o login aqui</a>
      </div>
    </mat-card-footer>
  </mat-card>
</div>
