<div class="dashboard-container">
  <h1 class="dashboard-title">Painel de Controle</h1>

  <div class="modules-grid">

<!-- ========================================================== -->
    <!-- CARD ADICIONADO: Ocorrências -->
    <!-- É o módulo principal, visível e ativo para todos. -->
    <!-- ========================================================== -->
   <mat-card class="module-card" [routerLink]="['/general-occurrences']">
      <mat-card-header>
        <div class="module-icon-container" style="background-color: #3f51b5;">
          <mat-icon class="module-icon">assignment</mat-icon>
        </div>
        <mat-card-title>Ocorrências</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>Gerencie e consulte ocorrências e laudos periciais.</p>
      </mat-card-content>
    </mat-card>


    <!-- Card de Autoridades -->
    <mat-card class="module-card"
              [class.disabled]="!canAccessAdminModules"
              [routerLink]="canAccessAdminModules ? ['/authorities'] : null">
      <mat-card-header>
        <div class="module-icon-container" style="background-color: #009688;">
          <mat-icon class="module-icon">gavel</mat-icon>
        </div>
        <mat-card-title>Autoridades</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        @if (canAccessAdminModules) {
          <p>Consulte e gerencie autoridades solicitantes.</p>
        } @else {
          <p class="disabled-text">Acesso restrito a Administradores.</p>
        }
      </mat-card-content>
    </mat-card>

    <!-- Card de Cidades -->
    <mat-card class="module-card"
              [class.disabled]="!canAccessAdminModules"
              [routerLink]="canAccessAdminModules ? ['/cities'] : null">
      <mat-card-header>
        <div class="module-icon-container" style="background-color: #4caf50;">
          <mat-icon class="module-icon">location_city</mat-icon>
        </div>
        <mat-card-title>Cidades</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        @if (canAccessAdminModules) {
          <p>Gerencie as cidades de atuação.</p>
        } @else {
          <p class="disabled-text">Acesso restrito a Administradores.</p>
        }
      </mat-card-content>
    </mat-card>

<mat-card class="module-card"
          [class.disabled]="!canAccessAdminModules"
          [routerLink]="canAccessAdminModules ? ['/exam-types'] : null">
  <mat-card-header>
    <div class="module-icon-container" style="background-color: #9c27b0;">
      <mat-icon class="module-icon">biotech</mat-icon>
    </div>
    <mat-card-title>Tipos de Exame</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    @if (canAccessAdminModules) {
      <p>Gerencie os tipos de exames periciais disponíveis.</p>
    } @else {
      <p class="disabled-text">Acesso restrito a Administradores e Peritos.</p>
    }
  </mat-card-content>
</mat-card>
    <!-- Card de Procedimentos -->
    <mat-card class="module-card"
              [class.disabled]="!canAccessAdminModules"
              [routerLink]="canAccessAdminModules ? ['/procedures'] : null">
      <mat-card-header>
        <div class="module-icon-container" style="background-color: #ff9800;">
          <mat-icon class="module-icon">biotech</mat-icon>
        </div>
        <mat-card-title>Procedimentos</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        @if (canAccessAdminModules) {
          <p>Gerencie os tipos de procedimentos apuratórios.</p>
        } @else {
          <p class="disabled-text">Acesso restrito a Administradores.</p>
        }
      </mat-card-content>
    </mat-card>

    <!-- Card de Locais/Serviços -->
    <mat-card class="module-card"
              [class.disabled]="!canAccessAdminModules"
              [routerLink]="canAccessAdminModules ? ['/forensic-services'] : null">
      <mat-card-header>
        <div class="module-icon-container" style="background-color: #673ab7;">
          <mat-icon class="module-icon">business</mat-icon>
        </div>
        <mat-card-title>Serviços Periciais</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        @if (canAccessAdminModules) {
          <p>Gerencie os locais e serviços internos da perícia.</p>
        } @else {
          <p class="disabled-text">Acesso restrito a Administradores.</p>
        }
      </mat-card-content>
    </mat-card>

    <!-- ========================================================== -->
    <!-- CARD ADICIONADO: Classificações de Ocorrência -->
    <!-- ========================================================== -->
    <mat-card class="module-card"
              [class.disabled]="!canAccessAdminModules"
              [routerLink]="canAccessAdminModules ? ['/occurrence-classifications'] : null">
      <mat-card-header>
        <div class="module-icon-container" style="background-color: #03a9f4;">
          <mat-icon class="module-icon">category</mat-icon>
        </div>
        <mat-card-title>Classificações</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        @if (canAccessAdminModules) {
          <p>Gerencie os tipos e grupos de classificações de ocorrência.</p>
        } @else {
          <p class="disabled-text">Acesso restrito a Administradores.</p>
        }
      </mat-card-content>
    </mat-card>
    <mat-card class="module-card"
              [class.disabled]="!canAccessAdminModules"
              [routerLink]="canAccessAdminModules ? ['/requesting-units'] : null">
      <mat-card-header>
        <div class="module-icon-container" style="background-color: #795548;">
          <mat-icon class="module-icon">request_quote</mat-icon>
        </div>
        <mat-card-title>Unidades Demandantes</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        @if (canAccessAdminModules) {
          <p>Gerencie as delegacias e outras unidades que solicitam perícias.</p>
        } @else {
          <p class="disabled-text">Acesso restrito a Administradores.</p>
        }
      </mat-card-content>
    </mat-card>

    <!-- Card de Gerenciar Usuários -->
    <mat-card class="module-card"
              [class.disabled]="userRole !== 'super_admin'"
              [routerLink]="userRole === 'super_admin' ? ['/users'] : null">
      <mat-card-header>
        <div class="module-icon-container" style="background-color: #f44336;">
          <mat-icon class="module-icon">group</mat-icon>
        </div>
        <mat-card-title>Gerenciar Usuários</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        @if (userRole === 'super_admin') {
          <p>Aprove, rejeite e administre os usuários do sistema.</p>
        } @else {
          <p class="disabled-text">Acesso restrito a Super Administradores.</p>
        }
      </mat-card-content>
    </mat-card>

  </div>
</div>
